var e=require("react"),t=require("yup");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function n(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,t}var o=/*#__PURE__*/r(e),i=/*#__PURE__*/n(t);function u(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}Object.byString=function(e,t){let r=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split(".");for(let t=0,n=r.length;t<n;++t){let n=r[t];if(!(n in e))return;e=e[n]}return e};const a={currentPage:1,hasNextPage:!1,hasPrevPage:!1,nextPage:null,prevPage:null,size:10,totalPages:0,totalResults:0};exports.useClipboard=()=>{const[e,t]=o.default.useState(!1),r=o.default.useRef(null);return{contentElementReference:r,copySuccess:e,copyFormatedToClipboard:function(){try{const e=function(){if(r.current){const e=function(){if(navigator.clipboard){function e(){setTimeout(()=>t(!1),2500)}const n=function(e,n){try{var o=Promise.resolve(navigator.clipboard.write([new ClipboardItem({"text/html":new Blob([r.current.innerHTML],{type:"text/html"})})])).then(function(){t(!0),console.log("Contentns copied.")})}catch(e){return n(e)}return o&&o.then?o.then(void 0,n):o}(0,function(e){console.log("Error copying to clipboard."),console.log(e)});return n&&n.then?n.then(e):e()}}();if(e&&e.then)return e.then(function(){})}}();return Promise.resolve(e&&e.then?e.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},copyPlainTextToClipBoard:function(e,r){try{const r=function(){if(navigator.clipboard)return t(!0),Promise.resolve(navigator.clipboard.writeText(e)).then(function(){setTimeout(()=>t(!1),2500)})}();return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}}},exports.useDualStateController=()=>{const[e,t]=o.default.useState(!1);return{isOpen:e,toggle:()=>{t(e=>!e)}}},exports.useForm=(e,t)=>{const[r,n]=o.default.useState(e),[a,s]=o.default.useState({}),[c,l]=o.default.useState(!1),f=()=>{n(e),s({})},g=(e,t)=>{const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const n of r){const r=e[n],i=t[n],u=null!==(o=r)&&"object"==typeof o;if(!u&&r!==i)return!1;if(u&&!g(r,i))return!1}var o;return!0};return o.default.useEffect(()=>{console.log("datamodel",r),console.log("validation error:",a)},[r,a]),o.default.useEffect(()=>{},[]),{dataModel:r,validationErrors:a,isBusy:c,handleChange:e=>{let{field:o,value:c}=e;const l={...r};l[o]=c,n(l),function(e,r){try{const n={...a},o=function(o,a){try{var s=u(function(){const o=i.reach(t,e);return Promise.resolve(o.validate(r)).then(function(){delete n[e]})},function(t){n[e]=t.message})}catch(e){return a(!0,e)}return s&&s.then?s.then(a.bind(null,!1),a.bind(null,!0)):a(!1,s)}(0,function(e,t){if(s(n),e)throw t;return t});return Promise.resolve(o&&o.then?o.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}(o,c)},handleSubmit:function(e,n,o,i){void 0===o&&(o=!0);try{return e.preventDefault(),Promise.resolve(function(){try{const e={abortEarly:!1},n={};return Promise.resolve(u(function(){return Promise.resolve(t.validate(r,e)).then(function(){return null})},function(e){return e.inner.forEach(e=>{n[e.path]=e.message}),n}))}catch(e){return Promise.reject(e)}}()).then(function(t){function i(){l(!1)}if(t)return s(t);const a=u(function(){return l(!0),Promise.resolve(new Promise(function(t,i){try{return Promise.resolve(u(function(){return Promise.resolve(n(r,e)).then(function(){return o&&f(),t()})},function(e){return i(e)}))}catch(e){return Promise.reject(e)}})).then(function(){})},function(e){console.log(e)});return a&&a.then?a.then(i):i()})}catch(e){return Promise.reject(e)}},initiateDataModel:function(e){n(e)},isFormValid:()=>0===Object.keys(a).length,resetForm:f,hasUnsavedData:()=>!g(e,r)}},exports.usePaginationState=()=>{const[t,r]=e.useState(a);return{pagination:t,updatePaginaion:function(e){if(void 0===e&&(e=a),"number"!=typeof e.currentPage)throw new Error("currentPage must be a number");if("boolean"!=typeof e.hasNextPage)throw new Error("currentPage must be a number");if("boolean"!=typeof e.hasPrevPage)throw new Error("hasPrevPage must be a boolean");if("number"!=typeof e.nextPage&&null!==e.nextPage)throw new Error("nextPage must be a number or null");if("number"!=typeof e.prevPage&&null!==e.prevPage)throw new Error("prevPage must be a number or null");if("number"!=typeof e.size)throw new Error("size must be a number");if("number"!=typeof e.totalPages)throw new Error("totalPages must be a number");if("number"!=typeof e.totalResults)throw new Error("totalResults must be a number");r(e)}}},exports.useProcessing=e=>{let t={};e.forEach(e=>{t[e.action]={status:e.status,id:null}});let[r,n]=o.default.useState(t);return{processing:r,dispatch:e=>{n(t=>{let r=Object.keys(e)[0],n=Object.values(e)[0],o={...t};return o[r]=n,o})}}},exports.useQuery=function(e){const t={required:s(e).required,filter:s(e).filter,search:s(e).search,pagination:s(e).pagination},r={filter:e&&e.filter||{},required:e&&e.required||{},search:"",pagination:e&&e.pagination||{page:1,size:10}};let[n,i]=o.default.useState(t),[u,a]=o.default.useState(t);function s(e){return{required:e&&e.required?l(e.required.value):"",filter:e&&e.filter?l(e.filter.value):"",search:e&&e.search?l(e.search.value):"",pagination:e&&e.pagination?l(e.pagination.value):"page=1&size=10"}}function c(e){return null!==e&&"object"==typeof e}function l(e){if(!e)return"";const t=[];return function e(r,n){if(void 0===n&&(n=""),!c(r))return t.push(n+"="+encodeURIComponent(r));const o=Object.keys(r);for(let t of o)if(c(r)){let o=n?Array.isArray(r)?"[]":"["+t+"]":""+t;e(r[t],n+o)}return r}(e),t.join("&")}function f(){let e="",t=Object.keys(n);for(let o of t)e=e?e+((r=n[o])?"&"+r:r):n[o];var r;return e}function g(e){a(t=>({...JSON.parse(JSON.stringify(t)),pagination:e}))}return{query:n,toolState:u,fullReset:function(){i(t),a(r)},getQuery:f,getQueryString:function(){return f()},handleFilter:function(e){var t;i(t=>({...JSON.parse(JSON.stringify(t)),filter:l(e.value),pagination:"page=1"})),t=e,a(e=>({...JSON.parse(JSON.stringify(e)),filter:t})),g({page:1,size:10})},handlePagination:function(e,t){void 0===e&&(e=1),void 0===t&&(t=10),i(r=>({...JSON.parse(JSON.stringify(r)),pagination:l({page:e,size:t})})),g({page:e,size:t})},handleSearch:function(e){i(t=>({...JSON.parse(JSON.stringify(t)),search:l(e.value),pagination:"page=1"})),g({page:1,size:10})},handleRequired:function(e){var t;i(t=>({...JSON.parse(JSON.stringify(t)),required:l(e.value),pagination:"page=1"})),t=e,a(e=>({...JSON.parse(JSON.stringify(e)),required:t})),g({page:1,size:10})}}};
//# sourceMappingURL=index.js.map
