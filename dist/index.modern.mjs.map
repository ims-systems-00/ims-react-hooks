{"version":3,"file":"index.modern.mjs","sources":["../src/hooks/useBuildQueryString.js","../src/hooks/useForm.js","../src/hooks/useDualStateController.js","../src/hooks/usePaginationState.js","../src/hooks/useProcessing.js","../src/hooks/useClipboard.js"],"sourcesContent":["import React from \"react\";\n\nfunction useBuildQueryString(initial) {\n  const initialQueryState = {\n    required: _buildDefault(initial).required,\n    filter: _buildDefault(initial).filter,\n    search: _buildDefault(initial).search,\n    pagination: _buildDefault(initial).pagination,\n  };\n\n  const initialToolState = {\n    filter: (initial && initial.filter) || {},\n    required: (initial && initial.required) || {},\n    search: (initial && initial.search) || {},\n    pagination: (initial && initial.pagination) || {\n      page: 1,\n      size: 10,\n    },\n  };\n\n  let [query, setQuery] = React.useState(initialQueryState);\n  let [toolState, setToolState] = React.useState(initialToolState);\n\n  function fullReset() {\n    setQuery(initialQueryState);\n    setToolState(initialToolState);\n  }\n\n  function _buildDefault(initial) {\n    return {\n      required:\n        initial && initial.required\n          ? objectToQuery(initial.required.value)\n          : \"\",\n      filter:\n        initial && initial.filter ? objectToQuery(initial.filter.value) : \"\",\n      search:\n        initial && initial.search ? objectToQuery(initial.search.value) : \"\",\n      pagination:\n        initial && initial.pagination\n          ? objectToQuery(initial.pagination)\n          : objectToQuery({\n              page: 1,\n              size: 10,\n            }),\n    };\n  }\n\n  function isObject(object) {\n    return object !== null && typeof object === \"object\";\n  }\n  function objectToQuery(object) {\n    if (!object) return \"\";\n    const queryBucket = [];\n    function dig(obj, build = \"\") {\n      if (!isObject(obj))\n        return queryBucket.push(build + `=${encodeURIComponent(obj)}`);\n      const keys = Object.keys(obj);\n      for (let key of keys) {\n        if (isObject(obj)) {\n          let attach = !build\n            ? `${key}`\n            : !Array.isArray(obj)\n            ? `[${key}]`\n            : `[]`;\n          dig(obj[key], build + attach);\n        }\n      }\n      return obj;\n    }\n    dig(object);\n    return queryBucket.join(\"&\");\n  }\n  let formatString = (str) => (str ? \"&\" + str : str);\n  // getQuery function will soon be deprecated. it's renamed to getQueryString\n  function getQuery() {\n    let processedString = \"\";\n    let keys = Object.keys(query);\n    for (let key of keys) {\n      processedString = processedString\n        ? processedString + formatString(query[key])\n        : query[key];\n    }\n    return processedString;\n  }\n  function getQueryString() {\n    return getQuery();\n  }\n  function handleRequired(requiredQuery) {\n    setQuery((prevState) => {\n      /**\n       * I'm using JSON to avoid object mutation, this is used only for performence.\n       * Date, function, Infinity , Maps , Blobs are not cloned. So be mindfull of using,\n       * basic and simple objects in state.\n       */\n      return {\n        ...JSON.parse(JSON.stringify(prevState)),\n        required: objectToQuery(requiredQuery.value),\n        pagination: objectToQuery({\n          page: 1,\n          size: toolState?.pagination?.size,\n        }),\n      };\n    });\n    _updateRequired(requiredQuery);\n    _updatePagination({ page: 1, size: 10 });\n  }\n  function handleFilter(filterQuery) {\n    setQuery((prevState) => {\n      /**\n       * I'm using JSON to avoid object mutation, this is used only for performence.\n       * Date, function, Infinity , Maps , Blobs are not cloned. So be mindfull of using,\n       * basic and simple objects in state.\n       */\n      return {\n        ...JSON.parse(JSON.stringify(prevState)),\n        filter: objectToQuery(filterQuery.value),\n        pagination: objectToQuery({\n          page: 1,\n          size: toolState?.pagination?.size,\n        }),\n      };\n    });\n    _updateFilter(filterQuery);\n    _updatePagination({ page: 1, size: toolState?.pagination?.size });\n  }\n  function handlePagination(page = 1, size = 10) {\n    setQuery((prevState) => {\n      /**\n       * I'm using JSON to avoid object mutation, this is used only for performence.\n       * Date, function, Infinity , Maps , Blobs are not cloned. So be mindfull of using,\n       * basic and simple objects in state.\n       */\n      return {\n        ...JSON.parse(JSON.stringify(prevState)),\n        pagination: objectToQuery({ page, size }),\n      };\n    });\n    _updatePagination({\n      page,\n      size,\n    });\n  }\n  function handleSearch(searchQuery) {\n    setQuery((prevState) => {\n      /**\n       * I'm using JSON to avoid object mutation, this is used only for performence.\n       * Date, function, Infinity , Maps , Blobs are not cloned. So be mindfull of using,\n       * basic and simple objects in state.\n       */\n      return {\n        ...JSON.parse(JSON.stringify(prevState)),\n        search: objectToQuery(searchQuery.value),\n        pagination: objectToQuery({\n          page: 1,\n          size: toolState?.pagination?.size,\n        }),\n      };\n    });\n    _updateSearch(searchQuery);\n    _updatePagination({ page: 1, size: toolState?.pagination?.size });\n  }\n  function _updatePagination(pagination) {\n    setToolState((prevState) => {\n      /**\n       * I'm using JSON to avoid object mutation, this is used only for performence.\n       * Date, function, Infinity , Maps , Blobs are not cloned. So be mindfull of using,\n       * basic and simple objects in state.\n       */\n      return {\n        ...JSON.parse(JSON.stringify(prevState)),\n        pagination,\n      };\n    });\n  }\n  function _updateFilter(filter) {\n    setToolState((prevState) => {\n      /**\n       * I'm using JSON to avoid object mutation, this is used only for performence.\n       * Date, function, Infinity , Maps , Blobs are not cloned. So be mindfull of using,\n       * basic and simple objects in state.\n       */\n      return {\n        ...JSON.parse(JSON.stringify(prevState)),\n        filter,\n      };\n    });\n  }\n  function _updateRequired(required) {\n    setToolState((prevState) => {\n      /**\n       * I'm using JSON to avoid object mutation, this is used only for performence.\n       * Date, function, Infinity , Maps , Blobs are not cloned. So be mindfull of using,\n       * basic and simple objects in state.\n       */\n      return {\n        ...JSON.parse(JSON.stringify(prevState)),\n        required,\n      };\n    });\n  }\n  function _updateSearch(search) {\n    setToolState((prevState) => {\n      /**\n       * I'm using JSON to avoid object mutation, this is used only for performence.\n       * Date, function, Infinity , Maps , Blobs are not cloned. So be mindfull of using,\n       * basic and simple objects in state.\n       */\n      return {\n        ...JSON.parse(JSON.stringify(prevState)),\n        search,\n      };\n    });\n  }\n  return {\n    query,\n    toolState,\n    fullReset,\n    getQuery,\n    getQueryString,\n    handleFilter,\n    handlePagination,\n    handleSearch,\n    handleRequired,\n  };\n}\n\nexport default useBuildQueryString;\n","import * as yup from \"yup\";\nimport { useState, useEffect } from \"react\";\nconst byString = function (object, accessString) {\n  accessString = accessString.replace(/\\[(\\w+)\\]/g, \".$1\");\n  accessString = accessString.replace(/^\\./, \"\");\n  let accessKeys = accessString.split(\".\");\n  for (let i = 0, n = accessKeys.length; i < n; ++i) {\n    let key = accessKeys[i];\n    if (key in object) {\n      object = object[key];\n    } else {\n      return;\n    }\n  }\n  return object;\n};\nObject.byString = byString;\nfunction useForm(initdataModel, schema) {\n  const [dataModel, setDataModel] = useState(initdataModel);\n  const [validationErrors, setValidationErrors] = useState({});\n  const [isBusy, setIsBusy] = useState(false);\n  const validate = async () => {\n    const options = { abortEarly: false, context: schema.cast(dataModel) };\n    const errors = {};\n    try {\n      await schema.validate(dataModel, options);\n      return null;\n    } catch (err) {\n      err.inner.forEach((item) => {\n        errors[item.path] = item.message;\n      });\n      return errors;\n    }\n  };\n  const validateProperty = async (field, value) => {\n    const errors = { ...validationErrors };\n    try {\n      const objSchema = yup.reach(schema, field);\n      await objSchema.validate(value);\n      /**\n       * if reached this block after promise it means validation success.\n       * remove the errors if there is any regarding this field.\n       */\n      delete errors[field];\n    } catch (err) {\n      /**\n       * invalid input detected. update with proper error message on the\n       * respective field.\n       */\n      errors[field] = err.message;\n    } finally {\n      /**\n       * finally we are just setting the erros to state.\n       */\n      setValidationErrors(errors);\n    }\n  };\n  const handleSubmit = async (e, doSubmit, reset = true, options = {}) => {\n    e.preventDefault();\n    const errors = await validate();\n    if (errors) return setValidationErrors(errors);\n    // Form submission logic here ....\n    function submission() {\n      return new Promise(async (resolve, reject) => {\n        try {\n          await doSubmit(dataModel, e);\n          if (reset) resetForm();\n          return resolve();\n        } catch (err) {\n          return reject(err);\n        }\n      });\n    }\n    try {\n      setIsBusy(true);\n      await submission();\n    } catch (err) {\n      console.log(err);\n    }\n    setIsBusy(false);\n  };\n  const handleChange = ({ field, value }) => {\n    const data = { ...dataModel };\n    data[field] = value;\n    setDataModel(data);\n    validateProperty(field, value);\n  };\n  const resetForm = () => {\n    setDataModel(initdataModel);\n    setValidationErrors({});\n  };\n  const _isObject = (object) => object !== null && typeof object === \"object\";\n  const _deepEqual = (referenceObject, testObject) => {\n    const referenceKeys = Object.keys(referenceObject);\n    const testKeys = Object.keys(testObject);\n    if (referenceKeys.length !== testKeys.length) return false;\n    for (const key of referenceKeys) {\n      const referenceValue = referenceObject[key];\n      const testValue = testObject[key];\n      const hasProperties = _isObject(referenceValue);\n      if (!hasProperties && referenceValue !== testValue) return false;\n      if (hasProperties && !_deepEqual(referenceValue, testValue)) return false;\n    }\n    return true;\n  };\n  const hasUnsavedData = () => !_deepEqual(initdataModel, dataModel);\n  const isFormValid = () => Object.keys(validationErrors).length === 0;\n  useEffect(() => {\n    console.log(\"datamodel\", dataModel);\n    console.log(\"validation error:\", validationErrors);\n  }, [dataModel, validationErrors]);\n  /** validation runner is required the first time the form renders. */\n  useEffect(() => {\n    // (async function () {\n    //   const errors = await validate();\n    //   if (errors) return setValidationErrors(errors);\n    // })();\n  }, []);\n  function initiateDataModel(dataModel) {\n    setDataModel(dataModel);\n  }\n  return {\n    dataModel,\n    validationErrors,\n    isBusy,\n    handleChange,\n    handleSubmit,\n    initiateDataModel,\n    isFormValid,\n    resetForm,\n    hasUnsavedData,\n  };\n}\nexport default useForm;\n","import React from \"react\";\n\nfunction useDualStateController() {\n  const [isOpen, setIsOpen] = React.useState(false);\n  const toggle = () => {\n    setIsOpen((isOpen) => !isOpen);\n  };\n  return {\n    isOpen,\n    toggle,\n  };\n}\n\nexport default useDualStateController;\n","import React from \"react\";\nimport { useState } from \"react\";\n/**\n * CAUTION: Changing the object strucuture will break the UI if not handled properly.\n * Consult with seniors before making changes.\n */\nconst defaultPaginationState = {\n  currentPage: 1,\n  hasNextPage: false,\n  hasPrevPage: false,\n  nextPage: null,\n  prevPage: null,\n  size: 10,\n  totalPages: 0,\n  totalResults: 0,\n};\nfunction usePagination() {\n  const [pagination, setPagination] = useState(defaultPaginationState);\n  function updatePaginaion(pagination = defaultPaginationState) {\n    if (typeof pagination.currentPage !== \"number\")\n      throw new Error(\"currentPage must be a number\");\n    if (typeof pagination.hasNextPage !== \"boolean\")\n      throw new Error(\"currentPage must be a number\");\n    if (typeof pagination.hasPrevPage !== \"boolean\")\n      throw new Error(\"hasPrevPage must be a boolean\");\n    if (typeof pagination.nextPage !== \"number\" && pagination.nextPage !== null)\n      throw new Error(\"nextPage must be a number or null\");\n    if (typeof pagination.prevPage !== \"number\" && pagination.prevPage !== null)\n      throw new Error(\"prevPage must be a number or null\");\n    if (typeof pagination.size !== \"number\")\n      throw new Error(\"size must be a number\");\n    if (typeof pagination.totalPages !== \"number\")\n      throw new Error(\"totalPages must be a number\");\n    if (typeof pagination.totalResults !== \"number\")\n      throw new Error(\"totalResults must be a number\");\n    setPagination(pagination);\n  }\n  return {\n    pagination,\n    updatePaginaion,\n  };\n}\n\nexport default usePagination;\n","import React from \"react\";\n\nfunction useProcessing(initializers) {\n  let initState = {};\n  initializers.forEach((process) => {\n    initState[process.action] = { status: process.status, id: null };\n  });\n  let [processing, setProcessing] = React.useState(initState);\n  let dispatch = (state) => {\n    setProcessing((currentProcesses) => {\n      let key = Object.keys(state)[0];\n      let value = Object.values(state)[0];\n      let updatedProcesses = { ...currentProcesses };\n      updatedProcesses[key] = value;\n      return updatedProcesses;\n    });\n  };\n  return {\n    processing,\n    dispatch,\n  };\n}\n\nexport default useProcessing;\n","import React from \"react\";\nconst SUCCESS_TIMEOUT = 2500;\nfunction useClipboard() {\n  const [copySuccess, setCopySuccess] = React.useState(false);\n  const contentElementReference = React.useRef(null);\n  async function copyFormatedToClipboard() {\n    if (contentElementReference.current) {\n      /** create a range to select contents that will be copied. */\n      // const range = document.createRange();\n      // range.selectNodeContents(contentElementReference.current);\n      /** copy the contents to clipboard. */\n      if (navigator.clipboard) {\n        try {\n          await navigator.clipboard.write([\n            new ClipboardItem({\n              \"text/html\": new Blob(\n                [contentElementReference.current.innerHTML],\n                {\n                  type: \"text/html\",\n                }\n              ),\n            }),\n          ]);\n          setCopySuccess(true);\n          console.log(\"Contentns copied.\");\n        } catch (err) {\n          console.log(\"Error copying to clipboard.\");\n          console.log(err);\n        }\n        setTimeout(() => setCopySuccess(false), SUCCESS_TIMEOUT);\n      }\n    }\n  }\n  async function copyPlainTextToClipBoard(value, cb = () => {}) {\n    if (navigator.clipboard) {\n      setCopySuccess(true);\n      await navigator.clipboard.writeText(value);\n      setTimeout(() => setCopySuccess(false), SUCCESS_TIMEOUT);\n    }\n  }\n  return {\n    contentElementReference,\n    copySuccess,\n    copyFormatedToClipboard,\n    copyPlainTextToClipBoard,\n  };\n}\n\nexport default useClipboard;\n"],"names":["useBuildQueryString","initial","initialQueryState","required","_buildDefault","filter","search","pagination","initialToolState","page","size","query","setQuery","React","useState","toolState","setToolState","objectToQuery","value","isObject","object","queryBucket","dig","obj","build","push","encodeURIComponent","keys","Object","key","attach","Array","isArray","join","getQuery","processedString","str","_updatePagination","prevState","_extends","JSON","parse","stringify","fullReset","getQueryString","handleFilter","filterQuery","_toolState$pagination3","_toolState$pagination2","handlePagination","handleSearch","searchQuery","_toolState$pagination5","_toolState$pagination4","handleRequired","requiredQuery","_toolState$pagination","useForm","initdataModel","schema","dataModel","setDataModel","validationErrors","setValidationErrors","isBusy","setIsBusy","resetForm","_deepEqual","referenceObject","testObject","referenceKeys","testKeys","length","referenceValue","testValue","hasProperties","useEffect","console","log","handleChange","field","data","async","errors","objSchema","yup","reach","validate","err","message","validateProperty","handleSubmit","e","doSubmit","reset","options","preventDefault","abortEarly","context","cast","inner","forEach","item","path","Promise","resolve","reject","initiateDataModel","isFormValid","hasUnsavedData","useDualStateController","isOpen","setIsOpen","toggle","byString","accessString","accessKeys","replace","split","i","n","defaultPaginationState","currentPage","hasNextPage","hasPrevPage","nextPage","prevPage","totalPages","totalResults","usePagination","setPagination","updatePaginaion","Error","useProcessing","initializers","initState","process","action","status","id","processing","setProcessing","dispatch","state","currentProcesses","values","updatedProcesses","useClipboard","copySuccess","setCopySuccess","contentElementReference","useRef","copyFormatedToClipboard","current","navigator","clipboard","write","ClipboardItem","Blob","innerHTML","type","setTimeout","copyPlainTextToClipBoard","cb","writeText"],"mappings":"iSAEA,SAASA,EAAoBC,GAC3B,MAAMC,EAAoB,CACxBC,SAAUC,EAAcH,GAASE,SACjCE,OAAQD,EAAcH,GAASI,OAC/BC,OAAQF,EAAcH,GAASK,OAC/BC,WAAYH,EAAcH,GAASM,YAG/BC,EAAmB,CACvBH,OAASJ,GAAWA,EAAQI,QAAW,CAAA,EACvCF,SAAWF,GAAWA,EAAQE,UAAa,CAAE,EAC7CG,OAASL,GAAWA,EAAQK,QAAW,CAAE,EACzCC,WAAaN,GAAWA,EAAQM,YAAe,CAC7CE,KAAM,EACNC,KAAM,KAIV,IAAKC,EAAOC,GAAYC,EAAMC,SAASZ,IAClCa,EAAWC,GAAgBH,EAAMC,SAASN,GAO/C,SAASJ,EAAcH,GACrB,MAAO,CACLE,SACEF,GAAWA,EAAQE,SACfc,EAAchB,EAAQE,SAASe,OAC/B,GACNb,OACEJ,GAAWA,EAAQI,OAASY,EAAchB,EAAQI,OAAOa,OAAS,GACpEZ,OACEL,GAAWA,EAAQK,OAASW,EAAchB,EAAQK,OAAOY,OAAS,GACpEX,WAEMU,EADJhB,GAAWA,EAAQM,WACDN,EAAQM,WACR,CACZE,KAAM,EACNC,KAAM,KAGlB,CAEA,SAASS,EAASC,GAChB,OAAkB,OAAXA,GAAqC,iBAAXA,CACnC,CACA,SAASH,EAAcG,GACrB,IAAKA,EAAQ,MAAO,GACpB,MAAMC,EAAc,GAkBpB,OAjBA,SAASC,EAAIC,EAAKC,EAAQ,IACxB,IAAKL,EAASI,GACZ,OAAOF,EAAYI,KAAKD,EAAQ,IAAIE,mBAAmBH,MACzD,MAAMI,EAAOC,OAAOD,KAAKJ,GACzB,IAAK,IAAIM,KAAOF,EACd,GAAIR,EAASI,GAAM,CACjB,IAAIO,EAAUN,EAETO,MAAMC,QAAQT,GAEf,KADA,IAAIM,KAFJ,GAAGA,IAIPP,EAAIC,EAAIM,GAAML,EAAQM,EACxB,CAEF,OAAOP,CACT,CACAD,CAAIF,GACGC,EAAYY,KAAK,IAC1B,CAGA,SAASC,IACP,IAAIC,EAAkB,GAClBR,EAAOC,OAAOD,KAAKhB,GACvB,IAAK,IAAIkB,KAAOF,EACdQ,EAAkBA,EACdA,IAPYC,EAOmBzB,EAAMkB,IAPV,IAAMO,EAAMA,GAQvCzB,EAAMkB,GARMO,MAUlB,OAAOD,CACT,CA8EA,SAASE,EAAkB9B,GACzBS,EAAcsB,GAMZC,EAAA,CAAA,EACKC,KAAKC,MAAMD,KAAKE,UAAUJ,IAAW,CACxC/B,eAGN,CAwCA,MAAO,CACLI,QACAI,YACA4B,UAlMF,WACE/B,EAASV,GACTc,EAAaR,EACf,EAgME0B,WACAU,eAtIF,WACE,OAAOV,GACT,EAqIEW,aAjHF,SAAsBC,GAAa,IAAAC,EAoEZ1C,EAnErBO,EAAU0B,IAAcU,IAAAA,EAMtB,OAAAT,EAAA,CAAA,EACKC,KAAKC,MAAMD,KAAKE,UAAUJ,IAAW,CACxCjC,OAAQY,EAAc6B,EAAY5B,OAClCX,WAAYU,EAAc,CACxBR,KAAM,EACNC,KAAe,MAATK,GAAqB,OAAZiC,EAATjC,EAAWR,iBAAU,EAArByC,EAAuBtC,QAC7B,GAuDeL,EApDPyC,EAqDd9B,EAAcsB,GAMZC,KACKC,KAAKC,MAAMD,KAAKE,UAAUJ,IAAW,CACxCjC,YA5DJgC,EAAkB,CAAE5B,KAAM,EAAGC,KAAe,MAATK,GAAqB,OAAZgC,EAAThC,EAAWR,iBAAU,EAArBwC,EAAuBrC,MAC5D,EAgGEuC,iBA/FF,SAA0BxC,EAAO,EAAGC,EAAO,IACzCE,EAAU0B,GAMRC,EACKC,CAAAA,EAAAA,KAAKC,MAAMD,KAAKE,UAAUJ,IAAW,CACxC/B,WAAYU,EAAc,CAAER,OAAMC,YAGtC2B,EAAkB,CAChB5B,OACAC,QAEJ,EAgFEwC,aA/EF,SAAsBC,GAAaC,IAAAA,EA0DZ9C,EAzDrBM,EAAU0B,IAAc,IAAAe,EAMtB,OAAAd,EACKC,CAAAA,EAAAA,KAAKC,MAAMD,KAAKE,UAAUJ,IAAW,CACxChC,OAAQW,EAAckC,EAAYjC,OAClCX,WAAYU,EAAc,CACxBR,KAAM,EACNC,KAAe2C,MAATtC,GAAAsC,OAASA,EAATtC,EAAWR,iBAAX8C,EAAAA,EAAuB3C,QAGnC,GA2CqBJ,EA1CP6C,EA2CdnC,EAAcsB,GAMZC,EACKC,CAAAA,EAAAA,KAAKC,MAAMD,KAAKE,UAAUJ,KAC7BhC,YAlDJ+B,EAAkB,CAAE5B,KAAM,EAAGC,KAAe,MAATK,GAAqB,OAAZqC,EAATrC,EAAWR,iBAAU,EAArB6C,EAAuB1C,MAC5D,EA8DE4C,eAvIF,SAAwBC,GAoGxB,IAAyBpD,EAnGvBS,EAAU0B,IAAckB,IAAAA,EAMtB,OAAAjB,EACKC,CAAAA,EAAAA,KAAKC,MAAMD,KAAKE,UAAUJ,KAC7BnC,SAAUc,EAAcsC,EAAcrC,OACtCX,WAAYU,EAAc,CACxBR,KAAM,EACNC,KAAe8C,MAATzC,GAAAyC,OAASA,EAATzC,EAAWR,iBAAXiD,EAAAA,EAAuB9C,QAC7B,GAuFiBP,EApFPoD,EAqFhBvC,EAAcsB,GAMZC,EACKC,CAAAA,EAAAA,KAAKC,MAAMD,KAAKE,UAAUJ,IAC7BnC,CAAAA,cA5FJkC,EAAkB,CAAE5B,KAAM,EAAGC,KAAM,IACrC,EAuHF,CChNA,SAAS+C,EAAQC,EAAeC,GAC9B,MAAOC,EAAWC,GAAgB/C,EAAS4C,IACpCI,EAAkBC,GAAuBjD,EAAS,CAAA,IAClDkD,EAAQC,GAAanD,GAAS,GAmE/BoD,EAAYA,KAChBL,EAAaH,GACbK,EAAoB,GACtB,EAEMI,EAAaA,CAACC,EAAiBC,KACnC,MAAMC,EAAgB1C,OAAOD,KAAKyC,GAC5BG,EAAW3C,OAAOD,KAAK0C,GAC7B,GAAIC,EAAcE,SAAWD,EAASC,OAAQ,OAAO,EACrD,IAAK,MAAM3C,KAAOyC,EAAe,CAC/B,MAAMG,EAAiBL,EAAgBvC,GACjC6C,EAAYL,EAAWxC,GACvB8C,EAR+B,QAAtBvD,EAQiBqD,IAR+B,iBAAXrD,EASpD,IAAKuD,GAAiBF,IAAmBC,EAAW,SACpD,GAAIC,IAAkBR,EAAWM,EAAgBC,GAAY,OAAO,CACtE,CAXiBtD,MAYjB,OAAO,GAkBT,OAdAwD,EAAU,KACRC,QAAQC,IAAI,YAAalB,GACzBiB,QAAQC,IAAI,oBAAqBhB,EACnC,EAAG,CAACF,EAAWE,IAEfc,EAAU,OAKP,IAII,CACLhB,YACAE,mBACAE,SACAe,aA5CmBA,EAAGC,QAAO9D,YAC7B,MAAM+D,EAAI1C,KAAQqB,GAClBqB,EAAKD,GAAS9D,EACd2C,EAAaoB,GAlDUC,OAAOF,EAAO9D,KACrC,MAAMiE,EAAM5C,EAAQuB,CAAAA,EAAAA,GACpB,IACE,MAAMsB,EAAYC,EAAIC,MAAM3B,EAAQqB,SAC9BI,EAAUG,SAASrE,UAKlBiE,EAAOH,EAChB,CAAE,MAAOQ,GAKPL,EAAOH,GAASQ,EAAIC,OACtB,CAAC,QAIC1B,EAAoBoB,EACtB,GA8BAO,CAAiBV,EAAO9D,EAC1B,EAwCEyE,aArEmBT,MAAOU,EAAGC,EAAUC,GAAQ,EAAMC,EAAU,CAAA,KAC/DH,EAAEI,iBACF,MAAMb,OAtCSD,WACf,MAAMa,EAAU,CAAEE,YAAY,EAAOC,QAASvC,EAAOwC,KAAKvC,IACpDuB,EAAS,CAAE,EACjB,IAEE,aADMxB,EAAO4B,SAAS3B,EAAWmC,GAEnC,IAAA,CAAE,MAAOP,GAIP,OAHAA,EAAIY,MAAMC,QAASC,IACjBnB,EAAOmB,EAAKC,MAAQD,EAAKb,OAAAA,GAEpBN,CACT,GA2BqBI,GACrB,GAAIJ,EAAQ,OAAOpB,EAAoBoB,GAavC,IACElB,GAAU,SAXC,IAAAuC,QAAQtB,MAAOuB,EAASC,KACjC,IAGE,aAFMb,EAASjC,EAAWgC,GACtBE,GAAO5B,IACJuC,GACT,CAAE,MAAOjB,GACP,OAAOkB,EAAOlB,EAChB,GAMJ,CAAE,MAAOA,GACPX,QAAQC,IAAIU,EACd,CACAvB,GAAU,EAAK,EAgDf0C,kBATF,SAA2B/C,GACzBC,EAAaD,EACf,EAQEgD,YAtBkBA,IAA+C,IAAzChF,OAAOD,KAAKmC,GAAkBU,OAuBtDN,YACA2C,eAzBqBA,KAAO1C,EAAWT,EAAeE,GA2B1D,CClIA,SAASkD,IACP,MAAOC,EAAQC,GAAanG,EAAMC,UAAS,GAI3C,MAAO,CACLiG,SACAE,OALaA,KACbD,EAAWD,IAAYA,EACzB,EAKF,CDKAnF,OAAOsF,SAdU,SAAU9F,EAAQ+F,GAGjC,IAAIC,GADJD,GADAA,EAAeA,EAAaE,QAAQ,aAAc,QACtBA,QAAQ,MAAO,KACbC,MAAM,KACpC,IAAK,IAAIC,EAAI,EAAGC,EAAIJ,EAAW5C,OAAQ+C,EAAIC,IAAKD,EAAG,CACjD,IAAI1F,EAAMuF,EAAWG,GACrB,KAAI1F,KAAOT,GAGT,OAFAA,EAASA,EAAOS,EAIpB,CACA,OAAOT,CACT,EETA,MAAMqG,EAAyB,CAC7BC,YAAa,EACbC,aAAa,EACbC,aAAa,EACbC,SAAU,KACVC,SAAU,KACVpH,KAAM,GACNqH,WAAY,EACZC,aAAc,GAEhB,SAASC,IACP,MAAO1H,EAAY2H,GAAiBpH,EAAS2G,GAoB7C,MAAO,CACLlH,aACA4H,gBArBF,SAAyB5H,EAAakH,GACpC,GAAsC,iBAA3BlH,EAAWmH,YACpB,MAAM,IAAIU,MAAM,gCAClB,GAAsC,kBAA3B7H,EAAWoH,YACpB,MAAM,IAAIS,MAAM,gCAClB,GAAsC,kBAA3B7H,EAAWqH,YACpB,MAAU,IAAAQ,MAAM,iCAClB,GAAmC,iBAAxB7H,EAAWsH,UAAiD,OAAxBtH,EAAWsH,SACxD,MAAU,IAAAO,MAAM,qCAClB,GAAmC,iBAAxB7H,EAAWuH,UAAiD,OAAxBvH,EAAWuH,SACxD,MAAM,IAAIM,MAAM,qCAClB,GAA+B,iBAApB7H,EAAWG,KACpB,MAAM,IAAI0H,MAAM,yBAClB,GAAqC,iBAA1B7H,EAAWwH,WACpB,MAAM,IAAIK,MAAM,+BAClB,GAAuC,iBAA5B7H,EAAWyH,aACpB,MAAM,IAAII,MAAM,iCAClBF,EAAc3H,EAChB,EAKF,CCvCA,SAAS8H,EAAcC,GACrB,IAAIC,EAAY,CAAA,EAChBD,EAAajC,QAASmC,IACpBD,EAAUC,EAAQC,QAAU,CAAEC,OAAQF,EAAQE,OAAQC,GAAI,KAAK,GAEjE,IAAKC,EAAYC,GAAiBhI,EAAMC,SAASyH,GAUjD,MAAO,CACLK,aACAE,SAXcC,IACdF,EAAeG,IACb,IAAInH,EAAMD,OAAOD,KAAKoH,GAAO,GACzB7H,EAAQU,OAAOqH,OAAOF,GAAO,GAC7BG,EAAgB3G,EAAQyG,CAAAA,EAAAA,GAE5B,OADAE,EAAiBrH,GAAOX,EACjBgI,GAEX,EAKF,CCnBA,SAASC,IACP,MAAOC,EAAaC,GAAkBxI,EAAMC,UAAS,GAC/CwI,EAA0BzI,EAAM0I,OAAO,MAoC7C,MAAO,CACLD,0BACAF,cACAI,wBAtCFtE,iBACE,GAAIoE,EAAwBG,SAKtBC,UAAUC,UAAW,CACvB,UACQD,UAAUC,UAAUC,MAAM,CAC9B,IAAIC,cAAc,CAChB,YAAa,IAAIC,KACf,CAACR,EAAwBG,QAAQM,WACjC,CACEC,KAAM,kBAKdX,GAAe,GACfxE,QAAQC,IAAI,oBACd,CAAE,MAAOU,GACPX,QAAQC,IAAI,+BACZD,QAAQC,IAAIU,EACd,CACAyE,WAAW,IAAMZ,GAAe,GA5BhB,KA6BlB,CAEJ,EAYEa,yBAXFhF,eAAwChE,EAAOiJ,EAAKA,QAC9CT,UAAUC,YACZN,GAAe,SACTK,UAAUC,UAAUS,UAAUlJ,GACpC+I,WAAW,IAAMZ,GAAe,GApCd,MAsCtB,EAOF"}